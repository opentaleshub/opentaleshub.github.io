<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Tell-Tale Heart | Open Tales Hub</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .story-page {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .story-header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .story-header h1 {
            color: var(--accent-color);
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .story-header .description {
            color: var(--text-color);
            opacity: 0.8;
            font-size: 1.1rem;
            margin-bottom: 15px;
        }
        
        .meta-grid {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            color: var(--text-color);
            opacity: 0.7;
            font-size: 0.9rem;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .story-content {
            line-height: 1.8;
            font-size: 1.1rem;
        }
        
        .story-content p {
            margin-bottom: 1.5rem;
        }
        
        .chapter-title {
            color: var(--accent-color);
            margin: 40px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }
        
        .quote {
            font-style: italic;
            color: var(--accent-color);
            padding-left: 20px;
            border-left: 3px solid var(--accent-color);
            margin: 30px 0;
            padding: 20px;
            background: rgba(108, 99, 255, 0.05);
            border-radius: 5px;
        }
        
        .content-container {
            padding: 30px;
            background: var(--card-bg);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            margin-bottom: 30px;
        }
        
        /* Reading Controls */
        .reading-controls {
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 100;
        }
        
        .control-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--accent-color);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            box-shadow: 0 4px 12px var(--shadow);
            transition: transform 0.2s;
        }
        
        .control-btn:hover {
            transform: scale(1.1);
            background: var(--accent-light);
        }
        
        .back-to-home {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--accent-color);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            margin-top: 30px;
            transition: all 0.3s;
        }
        
        .back-to-home:hover {
            background: var(--accent-light);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--shadow);
        }
        
        /* Progress Bar */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: var(--accent-color);
            width: 0%;
            z-index: 9999;
            transition: width 0.1s;
        }
        
        /* Word Count */
        .word-count {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--card-bg);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            border: 1px solid var(--border-color);
            opacity: 0.7;
        }
        
        @media (max-width: 768px) {
            .story-page {
                padding: 15px;
            }
            
            .story-header h1 {
                font-size: 1.8rem;
            }
            
            .content-container {
                padding: 20px;
            }
            
            .reading-controls {
                bottom: 15px;
                left: 15px;
            }
            
            .word-count {
                bottom: 15px;
                right: 15px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body class="dark-theme">
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle" title="Toggle theme">
        <i class="fas fa-moon"></i>
    </button>
    
    <!-- Reading Progress Bar -->
    <div class="reading-progress" id="readingProgress"></div>
    
    <!-- Story Content -->
    <div class="story-page">
        <!-- Header -->
        <header class="story-header">
            <h1>The Tell-Tale Heart</h1>
            <p class="description">The narrator of "Tell-Tale Heart" defends his sanity – he says he is nervous, but that he can not be called mad. His senses are in fact quickened, and he is more alert and has heard things from both heaven and hell.</p>
            <div class="meta-grid">
                <div class="meta-item">
                    <i class="fas fa-user"></i>
                    <span>Edgar Allan Poe</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-book"></i>
                    <span>Horror</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-clock"></i>
                    <span>10 min read</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-calendar"></i>
                    <span>1843</span>
                </div>
            </div>
        </header>
        
        <!-- Story Container -->
        <div class="content-container">
            <div class="story-content" id="storyContent">
                <p>The Tell-Tale Heart True! — nervous — very, very dreadfully nervous I had been and am; but why will you say that I am mad? The disease had sharpened my senses — not destroyed — not dulled them. Above all was the sense of hearing acute. I heard all things in the heaven and in the earth. I heard many things in hell. How, then, am I mad? Hearken! and observe how healthily — how calmly I can tell you the whole story.</p>
<p>It is impossible to say how first the idea entered my brain; but once conceived, it haunted me day and night. Object there was none. Passion there was none. I loved the old man. He had never wronged me. He had never given me insult. For his gold I had no desire. I think it was his eye! yes, it was this! One of his eyes resembled that of a vulture — a pale blue eye, with a film over it. Whenever it fell upon me, my blood ran cold; and so by degrees — very gradually — I made up my mind to take the life of the old man, and thus rid myself of the eye forever.</p>
<p>Now this is the point. You fancy me mad. Madmen know nothing. But you should have seen me. You should have seen how wisely I proceeded — with what caution — with what foresight — with what dissimulation I went to work! I was never kinder to the old man than during the whole week before I killed him. And every night, about midnight, I turned the latch of his door and opened it — oh, so gently! And then, when I had made an opening sufficient for my head, I put in a dark lantern, all closed, closed, so that no light shone out, and then I thrust in my head. Oh, you would have laughed to see how cunningly I thrust it in! I moved it slowly — very, very slowly, so that I might not disturb the old man’s sleep. It took me an hour to place my whole head within the opening so far that I could see him as he lay upon his bed. Ha! — would a madman have been so wise as this? And then, when my head was well in the room, I undid the lantern cautiously — oh, so cautiously — cautiously (for the hinges creaked) — I undid it just so much that a single thin ray fell upon the vulture eye. And this I did for seven long nights — every night just at midnight — but I found the eye always closed; and so it was impossible to do the work; for it was not the old man who vexed me, but his Evil Eye. And every morning, when the day broke, I went boldly into the chamber, and spoke courageously to him, calling him by name in a hearty tone, and inquiring how he had passed the night. So you see he would have been a very profound old man, indeed, to suspect that every night, just at twelve, I looked in upon him while he slept.</p>
<p>Upon the eighth night I was more than usually cautious in opening the door. A watch’s minute hand moves more quickly than did mine. Never before that night had I felt the extent of my own powers — of my sagacity. I could scarcely contain my feelings of triumph. To think that there I was, opening the door, little by little, and he not even to dream of my secret deeds or thoughts. I fairly chuckled at the idea; and perhaps he heard me; for he moved on the bed suddenly, as if startled. Now you may think that I drew back — but no. His room was as black as pitch with the thick darkness, (for the shutters were close fastened, through fear of robbers,) and so I knew that he could not see the opening of the door, and I kept pushing it on steadily, steadily.</p>
<p>I had my head in, and was about to open the lantern, when my thumb slipped upon the tin fastening, and the old man sprang up in the bed, crying out — “Who’s there?”</p>
<p>I kept quite still and said nothing. For a whole hour I did not move a muscle, and in the meantime I did not hear him lie down. He was still sitting up in the bed listening; — just as I have done, night after night, hearkening to the death watches in the wall.</p>
<p>Presently I heard a slight groan, and I knew it was the groan of mortal terror. It was not a groan of pain or of grief — oh, no! — it was the low stifled sound that arises from the bottom of the soul when overcharged with awe. I knew the sound well. Many a night, just at midnight, when all the world slept, it has welled up from my own bosom, deepening, with its dreadful echo, the terrors that distracted me. I say I knew it well. I knew what the old man felt, and pitied him, although I chuckled at heart. I knew that he had been lying awake ever since the first slight noise, when he had turned in the bed. His fears had been ever since growing upon him. He had been trying to fancy them causeless, but could not. He had been saying to himself — “It is nothing but the wind in the chimney — it is only a mouse crossing the floor,” or “it is merely a cricket which has made a single chirp.” Yes, he has been trying to comfort himself with these suppositions: but he had found all in vain. All in vain; because Death, in approaching him had stalked with his black shadow before him, and enveloped the victim. And it was the mournful influence of the unperceived shadow that caused him to feel — although he neither saw nor heard — to feel the presence of my head within the room.</p>
<p>When I had waited a long time, very patiently, without hearing him lie down, I resolved to open a little — a very, very little crevice in the lantern. So I opened it — you cannot imagine how stealthily, stealthily — until, at length a single dim ray, like the thread of the spider, shot from out the crevice and fell upon the vulture eye.</p>
<p>It was open — wide, wide open — and I grew furious as I gazed upon it. I saw it with perfect distinctness — all a dull blue, with a hideous veil over it that chilled the very marrow in my bones; but I could see nothing else of the old man’s face or person: for I had directed the ray as if by instinct, precisely upon the damned spot.</p>
<p>And now have I not told you that what you mistake for madness is but over acuteness of the senses? — now, I say, there came to my ears a low, dull, quick sound, such as a watch makes when enveloped in cotton. I knew that sound well, too. It was the beating of the old man’s heart. It increased my fury, as the beating of a drum stimulates the soldier into courage.</p>
<p>But even yet I refrained and kept still. I scarcely breathed. I held the lantern motionless. I tried how steadily I could maintain the ray upon the eye. Meantime the hellish tattoo of the heart increased. It grew quicker and quicker, and louder and louder every instant. The old man’s terror must have been extreme! It grew louder, I say, louder every moment! — do you mark me well? I have told you that I am nervous: so I am. And now at the dead hour of the night, amid the dreadful silence of that old house, so strange a noise as this excited me to uncontrollable terror. Yet, for some minutes longer I refrained and stood still. But the beating grew louder, louder! I thought the heart must burst. And now a new anxiety seized me — the sound would be heard by a neighbor! The old man’s hour had come! With a loud yell, I threw open the lantern and leaped into the room. He shrieked once — once only. In an instant I dragged him to the floor, and pulled the heavy bed over him. I then smiled gaily, to find the deed so far done. But, for many minutes, the heart beat on with a muffled sound. This, however, did not vex me; it would not be heard through the wall. At length it ceased. The old man was dead. I removed the bed and examined the corpse. Yes, he was stone, stone dead. I placed my hand upon the heart and held it there many minutes. There was no pulsation. He was stone dead. His eye would trouble me no more.</p>
<p>If still you think me mad, you will think so no longer when I describe the wise precautions I took for the concealment of the body. The night waned, and I worked hastily, but in silence. First of all I dismembered the corpse. I cut off the head and the arms and the legs.</p>
<p>I then took up three planks from the flooring of the chamber, and deposited all between the scantlings. I then replaced the boards so cleverly, so cunningly, that no human eye — not even his — could have detected any thing wrong. There was nothing to wash out — no stain of any kind — no blood-spot whatever. I had been too wary for that. A tub had caught all — ha! ha!</p>
<p>When I had made an end of these labors, it was four o ‘clock — still dark as midnight. As the bell sounded the hour, there came a knocking at the street door. I went down to open it with a light heart, — for what had I now to fear? There entered three men, who introduced themselves, with perfect suavity, as officers of the police. A shriek had been heard by a neighbor during the night; suspicion of foul play had been aroused; information had been lodged at the police office, and they (the officers) had been deputed to search the premises.</p>
<p>I smiled, — for what had I to fear? I bade the gentlemen welcome. The shriek, I said, was my own in a dream. The old man, I mentioned, was absent in the country. I took my visitors all over the house. I bade them search — search well. I led them, at length, to his chamber. I showed them his treasures, secure, undisturbed. In the enthusiasm of my confidence, I brought chairs into the room, and desired them here to rest from their fatigues, while I myself, in the wild audacity of my perfect triumph, placed my own seat upon the very spot beneath which reposed the corpse of the victim.</p>
<p>The officers were satisfied. My manner had convinced them. I was singularly at ease. They sat, and while I answered cheerily, they chatted of familiar things. But, ere long, I felt myself getting pale and wished them gone. My head ached, and I fancied a ringing in my ears: but still they sat and still chatted. The ringing became more distinct: — it continued and became more distinct: I talked more freely to get rid of the feeling: but it continued and gained definitiveness — until, at length, I found that the noise was not within my ears.</p>
<p>No doubt I now grew very pale; — but I talked more fluently, and with a heightened voice. Yet the sound increased — and what could I do? It was a low, dull, quick sound — much such a sound as a watch makes when enveloped in cotton. I gasped for breath — and yet the officers heard it not. I talked more quickly — more vehemently; but the noise steadily increased. I arose and argued about trifles, in a high key and with violent gesticulations; but the noise steadily increased. Why would they not be gone? I paced the floor to and fro with heavy strides, as if excited to fury by the observations of the men — but the noise steadily increased. Oh God! what could I do? I foamed — I raved — I swore! I swung the chair upon which I had been sitting, and grated it upon the boards, but the noise arose over all and continually increased. It grew louder — louder — louder! And still the men chatted pleasantly, and smiled. Was it possible they heard not? Almighty God! — no, no! They heard! — they suspected! — they knew! — they were making a mockery of my horror! — this I thought, and this I think. But anything was better than this agony! Anything was more tolerable than this derision! I could bear those hypocritical smiles no longer! I felt that I must scream or die! — and now — again! — hark! louder! louder! louder! louder! —</p>
<p>“Villains!” I shrieked, “dissemble no more! I admit the deed! — tear up the planks! — here, here! — it is the beating of his hideous heart!”</p>
            </div>
        </div>
        
        <!-- Back to Home Button -->
        <div style="text-align: center;">
            <a href="../index.html" class="back-to-home">
                <i class="fas fa-arrow-left"></i> Back to All Stories
            </a>
        </div>
    </div>
    
    <!-- Reading Controls -->
    <div class="reading-controls">
        <button class="control-btn" id="fontIncrease" title="Increase Font Size">
            <i class="fas fa-plus"></i>
        </button>
        <button class="control-btn" id="fontDecrease" title="Decrease Font Size">
            <i class="fas fa-minus"></i>
        </button>
        <button class="control-btn" id="scrollTop" title="Scroll to Top">
            <i class="fas fa-arrow-up"></i>
        </button>
    </div>
    
    <!-- Word Count -->
    <div class="word-count" id="wordCount">0 words read</div>
    
    <script>
        // Theme Management
        class StoryThemeManager {
            constructor() {
                this.themeToggle = document.getElementById('themeToggle');
                this.init();
            }
            
            init() {
                // Load saved theme or default to dark
                const savedTheme = localStorage.getItem('opentales-theme') || 'dark';
                this.setTheme(savedTheme);
                
                // Setup toggle button
                if (this.themeToggle) {
                    this.themeToggle.addEventListener('click', () => this.toggleTheme());
                }
            }
            
            setTheme(theme) {
                document.body.className = theme + '-theme';
                localStorage.setItem('opentales-theme', theme);
                
                // Update button icon
                if (this.themeToggle) {
                    const icon = this.themeToggle.querySelector('i');
                    if (icon) {
                        icon.className = theme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
                    }
                    this.themeToggle.setAttribute('title', 
                        `Switch to ${theme === 'dark' ? 'light' : 'dark'} theme`);
                }
            }
            
            toggleTheme() {
                const currentTheme = document.body.classList.contains('dark-theme') ? 'dark' : 'light';
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                this.setTheme(newTheme);
            }
        }
        
        // Font Size Control
        class FontSizeManager {
            constructor() {
                this.fontSize = 16; // Base font size
                this.contentElement = document.getElementById('storyContent');
                this.increaseBtn = document.getElementById('fontIncrease');
                this.decreaseBtn = document.getElementById('fontDecrease');
                this.init();
            }
            
            init() {
                // Load saved font size
                const savedSize = localStorage.getItem('opentales-fontsize');
                if (savedSize) {
                    this.fontSize = parseInt(savedSize);
                    this.applyFontSize();
                }
                
                // Setup event listeners
                if (this.increaseBtn) {
                    this.increaseBtn.addEventListener('click', () => this.increaseFont());
                }
                
                if (this.decreaseBtn) {
                    this.decreaseBtn.addEventListener('click', () => this.decreaseFont());
                }
            }
            
            increaseFont() {
                if (this.fontSize < 24) {
                    this.fontSize += 1;
                    this.applyFontSize();
                    this.saveFontSize();
                }
            }
            
            decreaseFont() {
                if (this.fontSize > 12) {
                    this.fontSize -= 1;
                    this.applyFontSize();
                    this.saveFontSize();
                }
            }
            
            applyFontSize() {
                if (this.contentElement) {
                    this.contentElement.style.fontSize = this.fontSize + 'px';
                }
            }
            
            saveFontSize() {
                localStorage.setItem('opentales-fontsize', this.fontSize);
            }
        }
        
        // Reading Progress and Position
        class ReadingTracker {
            constructor() {
                this.progressBar = document.getElementById('readingProgress');
                this.wordCountElement = document.getElementById('wordCount');
                this.storyId = window.location.pathname.split('/').pop();
                this.init();
            }
            
            init() {
                // Setup scroll tracking
                window.addEventListener('scroll', () => this.updateProgress());
                
                // Load saved position
                this.loadPosition();
                
                // Calculate word count
                this.calculateWordCount();
                
                // Save position on scroll
                let saveTimeout;
                window.addEventListener('scroll', () => {
                    clearTimeout(saveTimeout);
                    saveTimeout = setTimeout(() => this.savePosition(), 1000);
                });
                
                // Setup scroll to top
                const scrollTopBtn = document.getElementById('scrollTop');
                if (scrollTopBtn) {
                    scrollTopBtn.addEventListener('click', () => {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    });
                }
            }
            
            updateProgress() {
                if (!this.progressBar) return;
                
                const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (winScroll / height) * 100;
                
                this.progressBar.style.width = scrolled + '%';
                
                // Update word count
                this.updateWordCount();
            }
            
            calculateWordCount() {
                const contentElement = document.getElementById('storyContent');
                if (!contentElement) return;
                
                const text = contentElement.textContent || '';
                const words = text.split(/\s+/).filter(word => word.length > 0);
                this.totalWords = words.length;
                
                // Update word count display
                this.updateWordCount();
            }
            
            updateWordCount() {
                if (!this.wordCountElement || !this.totalWords) return;
                
                const contentElement = document.getElementById('storyContent');
                if (!contentElement) return;
                
                // Estimate words read based on scroll position
                const scrollPercent = (window.scrollY + window.innerHeight) / 
                                     document.documentElement.scrollHeight;
                const wordsRead = Math.min(
                    Math.floor(this.totalWords * scrollPercent),
                    this.totalWords
                );
                
                this.wordCountElement.textContent = 
                    `${wordsRead.toLocaleString()} of ${this.totalWords.toLocaleString()} words`;
            }
            
            savePosition() {
                const position = window.scrollY;
                localStorage.setItem(`reading-${this.storyId}`, position);
            }
            
            loadPosition() {
                const savedPosition = localStorage.getItem(`reading-${this.storyId}`);
                if (savedPosition) {
                    setTimeout(() => {
                        window.scrollTo(0, parseInt(savedPosition));
                    }, 100);
                }
            }
        }
        
        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize theme manager
            new StoryThemeManager();
            
            // Initialize font size manager
            new FontSizeManager();
            
            // Initialize reading tracker
            new ReadingTracker();
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Ctrl/Cmd + Plus to increase font
                if ((e.ctrlKey || e.metaKey) && e.key === '=') {
                    e.preventDefault();
                    document.getElementById('fontIncrease')?.click();
                }
                
                // Ctrl/Cmd + Minus to decrease font
                if ((e.ctrlKey || e.metaKey) && e.key === '-') {
                    e.preventDefault();
                    document.getElementById('fontDecrease')?.click();
                }
                
                // Escape to toggle theme
                if (e.key === 'Escape') {
                    document.getElementById('themeToggle')?.click();
                }
            });
        });
    </script>
</body>
</html>